---
title: "fallingo 개발일지 - da29c70..b78bf86 (12개 커밋)"
date: "2026-02-09"
category: "dev-log"
description: "AI 기반 데이터 수집 로직 안정화 및 Xcode Cloud 프록시 오류를 해결했습니다."
tags: ["fallingo", "개발일지", "Flutter", "FastAPI", "CI/CD"]
author: "Su"
lang: "ko"
---

안녕하세요, Fallingo 프로젝트를 개발하고 있는 Su입니다. 👨‍💻

이번 주 초는 지난 주말부터 이어진 백엔드 데이터 수집 로직의 '구멍'을 메우는 작업과, 갑자기 말썽을 일으킨 CI/CD 환경을 안정화시키는 데 시간을 집중했습니다.

총 12개의 커밋이 있었지만, 내용은 굉장히 밀도 높았습니다. 특히 AI 기반의 데이터 수집 과정에서 발생하는 비결정적 오류를 잡는 과정이 인상 깊었어요.

## 📝 이번 기간 작업 내용

**작업 기간**: 2026-02-08 ~ 2026-02-09

이번 작업은 크게 **백엔드 데이터 안정화**와 **CI/CD 인프라 개선** 두 축으로 나누어 진행되었습니다.

### 1. 백엔드 데이터 수집 및 로직 안정화 (5개 버그 수정)

Fallingo의 핵심은 사용자에게 흥미로운 음식 관련 매치(`daily_matches`)를 제공하는 것인데, 특정 조건에서 이 데이터가 생성되지 않는 치명적인 문제가 있었습니다.

| 영역 | 주요 커밋 내용 | 배운 점/해결 과정 |
| :--- | :--- | :--- |
| **AI 수집** | `fix: 올림픽 일정 수집 GPT 프롬프트 개선` | GPT가 원하는 구조를 뱉어내지 않을 때, 프롬프트 끝에 명시적인 JSON 포맷팅 지시어를 추가하여 파싱 오류를 줄였습니다. |
| **자동 복구** | `fix: 빈 daily_matches 자동 재수집 + 기존 피드 삭제 후 재생성` | 수집 실패 시 무한정 기다리는 것이 아니라, 특정 시간 내에 빈 값이 감지되면 즉시 이전 데이터를 삭제하고 재수집을 트리거하는 로직을 추가했습니다. |
| **국제화** | `fix: 국가-언어 매핑 불일치 수정 (SG, CA) + 누락 국가 추가` | 싱가포르(SG)나 캐나다(CA)처럼 다중 언어를 사용하는 국가의 언어/지역 코드 매핑이 누락되어, 일부 사용자에게 로컬라이즈된 콘텐츠가 제공되지 않던 문제를 해결했습니다. |

**Tip:** FastAPI와 GPT를 연동하여 데이터를 수집하는 과정에서, 비결정적인 오류(Non-Deterministic Failure)는 피할 수 없는 숙명인 것 같아요. 단순히 프롬프트를 개선하는 것을 넘어, **실패 시 복구 로직**과 **데이터 유효성 검증 레이어**를 탄탄하게 만드는 것이 훨씬 중요함을 다시 깨달았습니다.

### 2. CI/CD 및 인프라 안정화 (1건 Critical Fix)

가장 머리 아팠던 문제였습니다. 모바일 앱 배포를 위해 사용 중인 **Xcode Cloud**에서 `pod install`이 갑자기 멈추는 현상이 발생했습니다.

*   `fix: Xcode Cloud pod install 프록시 오류 해결`

저는 로컬에서만 잘 작동하면 된다고 생각했던 순진한 시절이 있었지만, 이제는 CI 환경이 제 메인 개발 환경만큼 중요합니다. 😢 알고 보니 Xcode Cloud 내부에서 특정 네트워크 프록시 설정을 잡아주지 않으면 외부 종속성(Pod)을 가져오지 못하는 환경이었습니다. 환경 변수 설정을 통해 이 문제를 해결했고, 다시 Flutter 앱 배포 파이프라인을 정상화시킬 수 있었습니다. CI/CD가 멈추면 모든 것이 멈추는 기분이죠... 휴.

### 3. 프론트엔드 UX 및 성능 개선 (2개 개선)

Flutter 기반의 프론트엔드에서 사용자가 체감할 수 있는 작은 개선 작업을 진행했습니다.

*   `fix: 홈 피드 스켈레톤 중복 표시 제거`
    *   데이터 로딩 중 스켈레톤 UI가 불필요하게 두 번 깜빡이거나 중복되어 보이는 문제를 제거하여, 사용자 경험(UX)을 부드럽게 만들었습니다.
*   `fix: 트렌딩 쿼리 5분 캐싱`
    *   홈 화면에서 인기 있는 트렌딩 데이터를 자주 요청하는 것을 방지하기 위해 백엔드 API 단에서 5분간 캐싱을 적용했습니다. 사용자 경험 저하 없이 서버 부하를 줄이는 합리적인 선택이었습니다.

### 4. 의존성 및 개발 환경 관리 (4건 업데이트)

정기적인 종속성 업데이트를 Dependabot을 통해 처리했습니다.

*   `faker` (백엔드) 및 `google_fonts` (프론트엔드) 버전 업데이트
*   GitHub Actions의 보안 분석 도구인 `github/codeql-action` 버전 업데이트 (보안 강화)
*   `chore: CLAUDE.md VIBE 프레임워크 통합`
    *   최근 도입한 Claude 3.5 Sonnet 모델과의 효율적인 상호작용을 위해 제가 정의한 프롬프트 및 시스템 설정 프레임워크인 'VIBE'의 설정을 추가했습니다. AI 기반 개발을 효율적으로 진행하기 위한 발판을 다지고 있습니다.

## 💡 작업 하이라이트

이번 기간의 가장 큰 성과는 **데이터 수집 로직의 견고함 확보**입니다.

FastAPI 서버에서 데이터 수집이 실패했을 때, 과거에는 수동으로 로그를 확인하고 DB를 정리해야 했지만, 이제는 자동 복구 로직 덕분에 시스템 스스로 치료가 가능해졌습니다. 이는 Fallingo가 위치 기반 소셜 플랫폼으로 성장할 때 **데이터 신뢰성**을 유지하는 데 필수적입니다.

특히, 데이터 흐름의 문제점을 AI 프롬프트 개선을 통해 근본적으로 해결하고, 동시에 자동 재수집이라는 방어벽을 추가한 것이 핵심이었습니다. 데이터 수집 과정이 복잡한 프로젝트를 진행하시는 분들께는, 'AI가 100% 완벽하게 데이터를 줄 것이라 기대하지 말 것'을 강력하게 권장합니다! 😅

## 📊 개발 현황

베타 런칭(2025년 12월 목표)까지 약 10개월이 남았습니다. 현재는 핵심 피드 생성 로직의 완성도를 높이는 단계입니다.

| 영역 | 진행도 (추정) | 비고 |
| :--- | :--- | :--- |
| **백엔드 (FastAPI/PG)** | 85% 완료 | 핵심 API 완료. 데이터 수집 로직의 에지 케이스 핸들링 중. |
| **프론트엔드 (Flutter)** | 70% 진행 중 | 주요 UI 및 흐름 구현 완료. 세부적인 UX/UI 및 국제화 완성도 높이는 중. |
| **AI/MLOps** | 75% 진행 중 | 프롬프트 엔지니어링 및 자동 복구 시스템 구축. 모델 최적화는 지속 필요. |

CI/CD 환경 안정화와 더불어 데이터 신뢰도가 높아진 만큼, 이제는 프론트엔드에서 본격적으로 사용자 피드백을 받을 준비를 해야 할 것 같습니다. 다음 개발 일지에서는 새로운 디자인 시스템 도입에 대해 이야기할 수 있기를 기대하며 마무리하겠습니다.

읽어주셔서 감사합니다! 다음 주에 또 뵙겠습니다. 👋