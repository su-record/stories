---
title: "fallingo 개발일지 - 921efff..9cbe1c1 (10개 커밋)"
date: "2026-01-07"
category: "dev-log"
description: "인앱 결제 연동 및 스토어 정책 준수를 위한 배포 준비 작업 진행"
tags: ["fallingo", "개발일지", "배포준비", "IAP", "AI"]
author: "Su"
lang: "ko"
---

안녕하세요, Fallingo 프로젝트를 개발하고 있는 Su입니다. 👨‍💻

2026년 새해가 밝았네요. 목표했던 2025년 12월 베타 런칭 목표를 아쉽게 살짝 넘겼지만, 개발의 막바지에 진입하면서 기술적인 도전보다는 **실제 서비스를 위한 인프라 구축과 스토어 심사 준비**에 초점을 맞춘 한 주였습니다.

이번 주(2026년 1월 2일 ~ 1월 7일)는 총 10개의 커밋을 통해 Fallingo의 상업적 기능을 완성하고, 양대 마켓에 제출하기 위한 필수 요소를 다듬었습니다. 드디어 결제 기능과 각종 정책 준수 작업을 마무리했기에, 이제 정말 사용자들을 맞이할 준비가 된 것 같습니다. 🎉

---

# fallingo 개발일지 - 921efff..9cbe1c1 (10개 커밋)

**작업 기간**: 2026-01-02 ~ 2026-01-07

## 📝 이번 기간 작업 내용

이번 주 작업은 크게 '배포 환경 구축 및 정책 준수', '핵심 기능 완성', 'AI 시스템 유지보수' 세 가지 영역으로 그룹화할 수 있습니다.

### 1. 🚀 크로스 플랫폼 배포 준비 및 스토어 정책 준수 (5건)

가장 많은 시간을 할애한 부분입니다. Fallingo는 Flutter 기반으로 개발되었기 때문에 iOS와 Android 마켓의 정책을 동시에 만족해야 합니다. 특히 최근 앱 마켓 정책이 강화되면서, 사용자 데이터 처리와 계정 삭제 기능이 필수로 요구됩니다.

| 커밋 메시지 (요약) | 상세 내용 |
| :--- | :--- |
| `feat: 계정 삭제 안내 페이지 추가 (Google Play 정책 준수)` | 사용자에게 계정 삭제 방법을 명확히 안내하는 페이지를 추가했습니다. 구글 플레이 정책에 맞추기 위한 필수 작업이었습니다. |
| `feat: iOS 배포 준비 - Info.plist 권한 및 코드 워닝 수정` | iOS 빌드 시 필요한 위치 정보 (`Privacy - Location...`) 및 기타 필수 권한을 `Info.plist`에 정의하고, 배포에 방해되는 워닝을 모두 처리했습니다. |
| `chore: Android Firebase 설정 파일 추가` | FCM, Analytics 등을 위해 Android 환경에 필요한 `google-services.json`을 프로젝트에 추가하고 빌드 설정을 완료했습니다. |
| `chore: 배포 필수 파일 gitignore 해제 및 추가` | 배포 시 필요한 환경 설정 파일(예: Firebase 설정 파일, 특정 키 파일)이 실수로 `.gitignore`에 남아있지 않도록 관리 항목을 조정했습니다. |
| `fix: about.html GPS 위치 인증 표현으로 수정` | 앱 소개 페이지에서 GPS 정보 사용 관련 문구를 좀 더 명확하게 '위치 인증' 방식으로 수정하여 사용자에게 투명하게 고지했습니다. |

### 2. 💰 핵심 기능 완성 및 리팩토링 (3건)

상업적 모델을 위한 핵심 기능을 구현하고, 기존 인증 시스템을 간소화했습니다.

| 커밋 메시지 (요약) | 상세 내용 |
| :--- | :--- |
| `feat: IAP 인앱 결제 연동 (Apple + Google)` | **이번 주의 가장 큰 기능입니다.** Fallingo의 유료 기능을 위한 인앱 결제(IAP) 시스템을 Apple Store Kit 및 Google Billing Library를 통해 연동했습니다. 크로스 플랫폼에서 안정적으로 동작하도록 테스트하는 데 시간이 오래 걸렸습니다. |
| `refactor: 소셜 로그인 Google + Apple만 지원하도록 간소화` | 초기 기획 단계에서 지원하려 했던 카카오, 네이버 등 다른 소셜 로그인 옵션들을 사용자 피드백과 개발 효율성을 고려해 Google 및 Apple만 지원하도록 간소화했습니다. 인증 플로우가 훨씬 깔끔해졌습니다. |
| `fix: 근거리 탐지 서비스 import 오류 및 인코딩 수정` | 위치 기반 서비스(Fallingo의 핵심) 중 근거리 탐지 로직에 치명적인 `import` 오류가 발견되어 수정했습니다. 인코딩 문제로 인해 일부 환경에서 좌표 계산이 틀어지던 것도 잡아냈습니다. |

### 3. 🤖 AI 시스템 유지보수 (2건)

제가 최근 집중하고 있는 FastAPI 기반의 AI 분석 API도 유지보수 및 업그레이드를 진행했습니다.

| 커밋 메시지 (요약) | 상세 내용 |
| :--- | :--- |
| `refactor: google-generativeai → google-genai SDK 마이그레이션` | Google AI의 Python SDK 이름이 `google-generativeai`에서 `google-genai`로 공식적으로 변경되었습니다. API 안정성을 위해 모든 백엔드 로직을 새 SDK로 마이그레이션했습니다. (마이그레이션 문서 따라 하는 것도 일이더라고요. 😅) |
| `feat: /analyze 커맨드에 컨텍스트 리셋 기능 추가` | AI 기반의 음식 분석 기능에서 연속된 질문으로 인해 컨텍스트가 꼬이는 문제를 해결하고자, 명시적으로 대화 기록을 초기화하는 기능을 추가했습니다. |

---

## 💡 작업 하이라이트

### 1. 드디어 인앱 결제(IAP) 구현 완료! 💰

Fallingo가 단순한 커뮤니티를 넘어 서비스를 유지하고 발전시킬 수 있는 상업적 기반을 마련했습니다. IAP 연동은 언제나 까다로운 작업입니다. 특히 양쪽 마켓의 샌드박스/테스트 환경이 미묘하게 다르기 때문에 디버깅이 쉽지 않았습니다.

> **TIP:** Flutter의 `in_app_purchase` 패키지를 사용했는데, 영수증 검증(Receipt Validation)은 보안상의 이유로 반드시 백엔드(FastAPI)에서 처리하도록 구조를 잡았습니다. **클라이언트에서 영수증을 검증하는 방식은 절대 피해야 합니다.**

### 2. 구글 AI SDK 마이그레이션 과정 🛠️

AI 기능을 담당하는 백엔드 서버에서 SDK 마이그레이션이 있었습니다. 단순한 이름 변경을 넘어, API 호출 방식과 응답 구조에도 약간의 변화가 있어서 기존에 작성했던 프롬프트 관리 로직을 일부 수정해야 했습니다.

이런 굵직한 SDK 업데이트는 배포 직전에 하지 않으려고 노력하지만, 서비스 안정성을 위해 빠르게 적용하는 것이 장기적으로 좋다고 판단했습니다.

```python
# Before
# from google.generativeai import Client

# After
from google import genai 
# 기존의 configure 방식이 약간 변경되어, 환경 변수 의존성을 높이는 방식으로 전환했습니다.
```

### 3. 배포 직전의 '사소한' Fix 작업들

이번 주 Fix 커밋들이 눈에 띄는데, 대부분 **스토어 심사 통과를 위한 엣지 케이스**였습니다. 예를 들어, 근거리 탐지 서비스의 임포트 오류나, GPS 위치 인증 표현 수정 같은 것들이죠. 핵심 로직 오류보다는 '배포 환경에서만 터지는' 사소한 버그들이 많았습니다. 이는 곧 개발 환경을 벗어나 실제 운영 환경에 근접했다는 긍정적인 신호로 해석하고 있습니다. 😊

---

## 📊 개발 현황

Fallingo 프로젝트는 현재 **베타 런칭 직전의 'QA 및 심사 제출 대기' 단계**에 있습니다.

| 영역 | 진행률 (추정) | 비고 |
| :--- | :--- | :--- |
| **백엔드 (FastAPI/PostgreSQL)** | 98% | 주요 API, AI 분석, 결제 검증 로직 완료. |
| **프론트엔드 (Flutter)** | 95% | 모든 화면 및 기능 구현 완료. UI/UX 미세 조정 중. |
| **인프라 및 배포** | 90% | Google Cloud Program 크레딧으로 인프라 구축 완료. 양대 마켓 빌드 및 심사 제출 파일 준비 완료. |

다음 주에는 최종 QA를 진행하며 발견되는 성능 문제나 UI 버그를 잡는 데 집중할 계획입니다. 특히 Google for Startups Cloud Program에서 제공받은 크레딧을 활용하여, 초기 사용자 유입에 대비한 부하 테스트(Load Testing)도 진행하려고 합니다.

이제 정말 코앞이네요! 다음 주 개발일지에서는 아마도 '앱 심사 제출' 소식을 전해드릴 수 있기를 바랍니다. 감사합니다! 🙏