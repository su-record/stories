---
title: "fallingo 개발일지 - 8f417e2..76631a6 (20개 커밋)"
date: "2025-11-20"
category: "dev-log"
description: "Fallingo: 통합 지도 마커, VIP 혜택 구현, OCR 리팩토링 및 안정화"
tags: ["fallingo", "개발일지", "프론트엔드", "백엔드", "Flutter", "FastAPI", "PostgreSQL"]
author: "Su"
lang: "ko"
---

안녕하세요, Su입니다! 👋 Fallingo 프로젝트 개발 일지, 또 오랜만에 찾아뵙게 되었네요.
19년 경력의 베테랑(?) 개발자라고 스스로 생각하지만, 새로운 기술 스택과 AI 기반 개발 방식은 늘 저를 겸손하게 만듭니다. 이번에도 정말 많은 것을 시도하고 배웠어요. 특히 FastAPI와 Flutter, PostgreSQL을 활용하면서 마주쳤던 크고 작은 도전들을 여러분께 공유해볼까 합니다.

# fallingo 개발일지 - 8f417e2..76631a6 (20개 커밋)

**작업 기간**: 2025-11-19 ~ 2025-11-20

이번 한 주도 Fallingo의 핵심 기능들을 안정화하고 확장하는 데 주력했습니다. 특히 유료 마커 시스템과 VIP 혜택, 그리고 OCR 서비스 리팩토링에 많은 시간을 쏟았네요. 베타 런칭 목표일인 2025년 12월을 향해 오늘도 열심히 달리고 있습니다! 🏃‍♂️

## 📝 이번 기간 작업 내용

이번 기간 동안 총 20개의 커밋이 있었네요. 주요 작업 내용을 기능/영역별로 정리해봤습니다.

### 🗺️ 통합 지도 마커 및 위치 기반 서비스 개선 (3개 기능, 2개 수정)
Fallingo의 핵심인 위치 기반 서비스와 지도 마커 시스템을 대폭 개선했어요. 드디어 통합 지도 마커 API를 완성했고, 유료 마커 시스템의 공유 URL도 수정했습니다. 🥳

*   **feat: 통합 지도 마커 API 완성 및 유료 마커 공유 URL 수정**
    *   여러 마커 타입을 한 번에 처리하는 통합 API를 드디어 완성했습니다. 지도가 훨씬 풍성해지겠죠?
    *   유료 마커의 공유 URL 구조를 개선해서 사용자들이 더 쉽게 공유할 수 있도록 했어요.
*   **feat: 근거리 탐지 BLE 필수 구현**
    *   블루투스를 이용한 근거리 탐지 기능을 필수적으로 구현했습니다. 사용자 주변의 음식점 정보를 더욱 정확하게 제공하기 위함이에요.
*   **fix: LocationPoint import 경로 수정 (프로덕션 에러 해결)**
    *   배포 환경에서 `LocationPoint` import 경로 문제로 계속 에러가 발생했는데, 드디어 잡았습니다! 로컬에서는 괜찮다가 프로덕션에서만 터지는 에러는 언제나 골치 아프죠... 😥

### 🚀 VIP 혜택 및 유료 티어 시스템 (2개 기능, 3개 수정)
Fallingo의 유료 티어 시스템, 특히 VIP 사용자들을 위한 혜택을 구체화하고 안정화하는 작업이 많았습니다.

*   **feat: VIP 무제한 무료 마커 시스템 구현 (Tier 8+ 혜택)**
    *   가장 큰 기능 중 하나입니다! 최고 등급(Tier 8 이상) VIP 사용자들에게는 무제한 무료 마커 혜택을 제공하도록 구현했어요.
*   **feat: QR 코드 팔로우 시스템 구현 (Tier 4+)**
    *   Tier 4 이상 사용자들을 위한 QR 코드 팔로우 시스템도 도입했습니다. 친구 추가가 더 쉬워지겠죠?
*   **fix: VIP 마이그레이션 revision ID 길이 수정 및 Cloud SQL 적용 완료**
    *   VIP 관련 DB 마이그레이션 중 `revision ID` 길이 문제로 애를 먹었는데, 수정하고 Cloud SQL에 최종 적용했습니다.
*   **fix: Tier 3 미만 사용자 검색 결과 제한 수정**
    *   무료 사용자(Tier 3 미만)의 검색 정책이 업데이트되면서 검색 결과 제한 로직을 수정했습니다. 덕분에 성능도 개선되었어요.

### 📸 OCR 서비스 리팩토링 및 안정화 (1개 기능, 2개 수정)
AI 기반 개발을 하면서 가장 흥미로운 부분 중 하나인 OCR 서비스의 안정화에 힘썼습니다.

*   **refactor: OCR 서비스 리팩토링 (4개 모듈 분리)**
    *   그동안 무거웠던 OCR 서비스 코드를 4개의 모듈로 깔끔하게 분리했어요. 유지보수성과 확장성이 훨씬 좋아졌습니다.
*   **feat: 프론트엔드 오류 수정 및 백엔드 OCR 리팩토링 (146→50 issues)**
    *   이 리팩토링 덕분에 백엔드 OCR 관련 이슈가 무려 146개에서 50개로 줄어드는 쾌거를 달성했습니다! 🥳 프론트엔드에서도 OCR 관련 에러를 잡았고요.
*   **fix: OCRVerification import 제거 및 Feed 모델 필드 사용**
    *   불필요한 `OCRVerification` import를 제거하고, `Feed` 모델 필드를 직접 사용하도록 수정했습니다. 코드 간결화에 기여했어요.

### 📦 데이터베이스 및 백엔드 안정화 (2개 수정)
핵심 백엔드 로직과 데이터베이스 안정성 확보를 위한 작업들도 진행했습니다.

*   **fix: 마이그레이션 체인 수정 + tsvector 트리거 업데이트**
    *   PostgreSQL의 `tsvector` 트리거와 마이그레이션 체인을 수정하여 데이터베이스의 검색 성능과 안정성을 높였습니다.
*   **fix: Flutter null safety 에러 수정 (nearby_models.dart)**
    *   Flutter 쪽에서 Null Safety 에러가 발생해서 `nearby_models.dart` 파일을 수정했어요. Dart 2.12부터 도입된 Null Safety는 항상 신경 써야 하는 부분인 것 같습니다. 😅

### 📚 문서화 및 네이밍 정리 (8개 문서, 1개 리팩토링)
문서화는 언제나 중요하죠! 개발 과정에서 변경된 정책이나 시스템을 문서로 정리하고, 코드 네이밍도 깔끔하게 다듬었습니다.

*   **docs**: 티어 히스토리 체크리스트 명확화, 근거리 탐지 블루투스 필수 정책 명확화, 유료 마커 피드 통합 설명 수정, 유료 마커 자동 검수 시스템 검증 완료 체크, 태그 시스템 체크리스트 업데이트 등
*   **refactor: ProfileHistoryServiceV2 네이밍 정리**
    *   `ProfileHistoryServiceV2`와 같이 버전이 붙은 네이밍은 나중에 혼란을 줄 수 있어서, 더 명확하게 정리했습니다.

## 💡 작업 하이라이트

이번 기간의 가장 큰 하이라이트는 역시 **통합 지도 마커 API 완성**과 **VIP 무제한 무료 마커 시스템 구현**이라고 할 수 있겠습니다. Fallingo의 핵심 가치인 '위치 기반 음식 소셜 플랫폼'이 드디어 시각적으로 더 풍부해지고, 사용자들에게 더 매력적인 혜택을 제공할 수 있게 되었어요. 🎉

그리고 **OCR 서비스 리팩토링**도 기억에 남습니다. 처음에 급하게 구현하느라 코드가 다소 복잡했는데, 이번에 4개 모듈로 나누고 146개에 달하던 이슈를 50개로 줄일 수 있었어요. 비전공자 출신이라 처음에는 AI 관련 코드가 어렵게 느껴졌지만, 이렇게 직접 코드를 개선하며 문제를 해결해나가는 과정에서 또 한 뼘 성장한 기분입니다! 이 경험을 바탕으로 나중에 OCR 관련 기술 블로그도 한번 작성해볼 생각이에요.

잦은 `fix` 커밋들은 대부분 티어별 정책 변화나 DB 마이그레이션 과정에서 발생했습니다. 서비스 기획이 고도화되면서 티어별 혜택과 제한 사항이 계속 수정되었고, 이 때문에 백엔드 로직과 DB 스키마를 여러 번 손봐야 했어요. 특히 `LocationPoint import 경로 수정`처럼 배포 환경에서만 나타나는 에러는 삽질의 연속이었지만, 덕분에 CI/CD 파이프라인과 배포 환경에 대한 이해가 더 깊어졌습니다.

## 📊 개발 현황

현재 Fallingo 프로젝트는 **백엔드 기능 구현 90%, 프론트엔드 (Flutter) UI/UX 구현 80% 정도** 진행되었습니다. 핵심 기능들은 대부분 갖춰졌고, 이제는 세부적인 사용자 경험 개선과 안정화에 집중하고 있습니다. 특히 Google for Startups Cloud Program 덕분에 인프라 비용 부담 없이 스케일업을 테스트할 수 있어서 정말 큰 도움이 되고 있어요.

2025년 12월 베타 런칭 목표를 향해 순항 중이니, 앞으로도 Fallingo에 많은 관심 부탁드립니다! 다음 개발 일지에서 또 새로운 소식으로 찾아뵐게요! 감사합니다. 🙏