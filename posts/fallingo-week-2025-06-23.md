---
title: "Fallingo 개발일지 - 2025년 6월 4주차 (06.23 ~ 06.29)"
date: "2025-06-29"
category: "dev-log"
project: "fallingo"
tags: ["회고", "시스템설계", "AI개발"]
---

## 이번 주 요약

지난주 Phase 3-4를 완료하고 API 구현을 시작했지만, 심각한 일관성 문제를 발견했다. 데이터베이스 스키마와 도메인 모델, API 정의가 서로 맞지 않았다. 몇 달간 개발해온 결과물이지만, 근본적인 문제가 있다는 것을 인정해야 했다.

## 직면한 문제들

### 데이터 모델 불일치
- User 모델의 필드가 스키마와 다름
- Restaurant 테이블의 위치 데이터 타입 불일치
- Follow 관계의 인덱스 전략이 API 요구사항과 맞지 않음
- Point/Tier 시스템의 계산 로직이 DB 구조를 반영하지 못함

### API 설계의 일관성 부족
- REST 규칙이 엔드포인트마다 다름
- 응답 형식이 통일되지 않음
- 에러 처리 방식이 제각각
- 페이지네이션 전략이 불분명함

### 문서와 코드의 괴리
- 기획 문서에 명시된 요구사항이 코드에 누락됨
- API 문서와 실제 구현이 다름
- 엔티티 정의 문서가 실제 모델과 맞지 않음

## 원인 분석

**AI 세션마다 다른 컨텍스트**
- Claude 세션이 바뀔 때마다 이전 결정사항을 잊어버림
- 프로젝트 지식이나 MCP를 활용했지만 충분하지 않았음
- 각 세션에서 "그럴싸한" 코드를 만들지만 전체 일관성은 없음

**문서 작성 방법론의 문제**
- 모든 문서를 한 번에 작성하려다 보니 검증이 부족함
- 문서 간 의존성을 고려하지 않음
- 핵심 기능 위주로만 작성하고 세부사항은 나중에 추가

**내 역할의 한계**
- 백엔드/Flutter 기술 지식이 없어 코드 리뷰가 피상적
- "동작하는 것처럼 보이면" 넘어감
- 통합 테스트 없이 진행

## 고민과 결정

**계속 수정할 것인가, 다시 시작할 것인가**

며칠간 고민했다. 지금까지 몇 달간 작업한 코드를 버린다는 것은 쉽지 않은 결정이다. 하지만 계속 수정하다 보면 더 깊은 늪에 빠질 것 같았다.

**배운 것들**
- AI와 함께 개발할 때 문서의 일관성이 얼마나 중요한지
- 순차적 작성과 교차 검증의 필요성
- 백엔드부터 탄탄하게 만드는 것이 중요함
- Phase별 개발보다 계층별 개발이 나을 수도 있음

**새로운 방법론 구상**

1. 기획서를 더 상세하게, 순서대로 읽도록 강제
2. 엔티티 → ERD → 데이터모델 → API 순서를 엄격히 지킴
3. 각 단계마다 교차 검증 수행
4. 백엔드를 먼저 완전히 완성한 후 프론트엔드 시작
5. SpecKit 같은 체계적인 프레임워크 활용 검토

**일단 멈추기**

성급하게 다시 시작하고 싶었다. 하지만 같은 실수를 반복하면 안 된다. 일단 멈추고 생각할 시간이 필요하다. 왜 일관성이 무너졌는지, AI와 어떻게 협업해야 하는지, 문서 작성 체계를 어떻게 바꿔야 하는지. 제대로 배우고 넘어가야 한다. 지금까지의 경험이 헛되지 않도록.
