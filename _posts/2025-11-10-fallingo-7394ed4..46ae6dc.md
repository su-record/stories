# Fallingo 개발 일지 - 7394ed4..46ae6dc (565개 커밋)

안녕하세요, Fallingo 프로젝트를 개발하고 있는 Su입니다! 👋

이번 개발 일지는 2025년 6월 4일부터 11월 11일까지, 무려 565개의 커밋이 쌓인 아주 길고 밀도 높은 기간의 기록이에요. 정말 눈코 뜰 새 없이 달렸던 것 같습니다. 수많은 기능 구현과 개선, 그리고 좌충우돌 해결 과정들을 여러분과 공유하고 싶어요.

---

## 📝 이번 기간 작업 내용

이번 기간 동안 정말 많은 일들이 있었는데요, 주요 작업들을 몇 가지 영역으로 나누어 정리해 봤습니다.

### 🤖 AI 기반 개발 시스템 및 자동화
이번 기간의 가장 큰 변화 중 하나는 바로 개발 일지 시스템을 완전히 자동화하고, AI 모델을 업그레이드한 것이에요.
*   **개발 일지 시스템 전환**: 기존 블로그 시스템을 제거하고, 커밋 내역을 기반으로 자동 생성되는 개발 일지 시스템으로 전환했습니다. (`chore: 기존 블로그 시스템 제거 및 개발 일지 시스템으로 완전 전환`, `refactor: 블로그를 개발 일지(Dev Log) 형식으로 변경`)
*   **Gemini 모델 업그레이드**: AI 개발 효율성을 높이기 위해 Gemini 2.5 Flash 모델로 업그레이드했어요. 덕분에 프롬프트 크기를 줄여 API 할당량도 아끼게 되었습니다. (`feat: Gemini 2.5 Flash 모델로 업그레이드`, `fix: 프롬프트 크기 줄여서 API quota 절약`)
*   **자동 블로그 생성**: 커밋이 20개 누적될 때마다 자동으로 개발 일지가 생성되도록 시스템을 구축했어요. 이 시스템으로 지금 이 글도 작성되고 있답니다! 🚀 (`feat: 커밋 20개 누적 시 자동 블로그 생성`)

### 🛠️ 백엔드 핵심 기능 개발 및 안정화 (FastAPI, PostgreSQL, Redis)
Fallingo의 심장인 백엔드 기능들이 대거 완성되고 안정화되었습니다.
*   **API 대규모 구현**: 피드, 레스토랑, 사용자, 팔로우, AI 연동 API 등 145개 이상의 핵심 API 엔드포인트를 구현하고 테스트를 완료했습니다. 특히 AI 통합 및 레스토랑 도메인 API가 완전 구현되었어요. (`feat: 백엔드 145 엔드포인트 완전 구현`, `feat: 핵심 백엔드 기능 완성 및 테스트 구현`, `feat: AI integration APIs 및 Restaurant API 완전 구현`)
*   **성능 최적화**: Redis 캐싱 시스템을 GCP Memorystore로 구축하고 주요 서비스에 적용하여 API 응답 속도를 최대 76%까지 개선했습니다. 또한, BackgroundTasks를 도입하여 비동기 작업을 처리하고, 데이터베이스 인덱싱 및 인메모리 캐싱으로 API 성능을 끌어올렸어요. (`feat: BackgroundTasks 도입으로 API 응답 속도 76% 개선`, `feat: 주요 서비스에 Redis 캐싱 적용`, `feat: GCP Memorystore Redis 캐싱 시스템 구축`, `perf: Add API performance optimization (DB indexes + in-memory caching)`)
*   **보안 시스템 강화**: FastAPI 기반으로 JWT 인증, CSRF 보안, Rate Limiting 미들웨어, 토큰 블랙리스트 등 종합 보안 시스템을 구현했습니다. Firebase API 키 보안을 강화하고 JWT 시크릿 키를 GCP Secret Manager에서 관리하도록 변경했어요. (`feat: FastAPI 백엔드 인증 및 CSRF 보안 시스템 구현`, `security: Firebase API 키 보안 강화`, `security: Use GCP Secret Manager for JWT_SECRET_KEY`)
*   **데이터베이스 안정화**: PostgreSQL 17 및 Cloud SQL 호환성을 개선하고, 성능 인덱스를 추가하여 데이터베이스의 안정성과 효율성을 높였습니다. (`fix: PostgreSQL 17 + Cloud SQL 호환성 개선`, `perf: Add API performance optimization (DB indexes + in-memory caching)`)

### 📱 프론트엔드 UI/UX 및 기능 구현 (Flutter)
Flutter를 이용해 사용자들이 직접 마주할 수많은 화면과 기능들을 구현했어요.
*   **주요 화면 구현**: 피드, 프로필, 검색, 댓글, AI 추천, 마이 푸드맵, About 화면 등 Fallingo의 핵심 UI들이 실제 API와 연동되어 구현되었습니다. (`feat: 피드/프로필/검색 화면 완전 구현`, `feat: Implement CommentScreen with full functionality`, `feat: Add My Foodmap screen (Tier 6+ premium feature)`)
*   **인증 및 소셜 로그인**: Google, Apple, Facebook, Twitter 등 다양한 소셜 로그인 방식을 Flutter에 완전 구현하고, Firebase FCM 연동을 통해 푸시 알림 서비스도 추가했습니다. (`feat: 소셜 로그인 완전 구현 (Google, Apple, Facebook, Twitter)`, `feat: Firebase FCM 연동 완료`)
*   **카메라 및 OCR 연동**: 카메라를 통한 피드 생성 플로우와 영수증 스캔을 위한 Document AI OCR 통합 기능을 구현했습니다. (`feat: Connect camera/feed creation flow and OCR verification`, `feat: Add Document AI OCR integration for receipt scanning`)
*   **부가 기능**: Google Maps API 연동, AdMob/AdSense 광고 시스템, SEO 최적화, 그리고 다국어 처리(i18n) 설정까지 사용자 경험을 풍부하게 만드는 기능들을 추가했습니다. (`feat: Enable Google Maps API integration for feed card map view`, `feat: Add ad system for feed (web + mobile ready)`, `feat: Flutter i18n 설정 완료`)
*   **프론트엔드 코드 품질 개선**: 빌드 에러 및 린트 에러를 수정하고, Deprecated API를 업데이트하며 코드 품질을 지속적으로 관리했어요. 39개에 달하던 린트 에러를 0개로 만들었을 때 정말 뿌듯했습니다! 😂 (`fix: 린트 에러 수정 (39개 → 0개)`, `refactor: Frontend 코드 품질 개선 - Warning 해결`)

### 🧠 AI 기능 통합
Fallingo의 핵심인 AI 기능들이 백엔드와 프론트엔드에 걸쳐 통합되었습니다.
*   **AI 콘텐츠 검수 및 비용 절감**: Gemini API 기반으로 AI 콘텐츠 검수 시스템을 구현하고, 검수 비용을 85~90% 절감하는 시스템을 도입하여 효율성을 높였습니다. (`feat(backend): Gemini API 기반 AI 콘텐츠 검수 구현`, `feat(backend): AI 검수 비용 절감 시스템 구현 (85-90% 절감)`)
*   **AI 추천**: AI 추천 화면을 실제 API와 연동하고, 특정 티어 등급에 따라 추천 기능을 제한하는 로직도 추가했습니다. (`feat: Integrate AIRecommendScreen with real API`, `feat: AI 추천 기능에 갈비탕(Tier 3) 등급 제한 추가`)

### 🧹 코드 품질 및 리팩토링
코드의 가독성과 유지보수성을 높이기 위한 대규모 리팩토링 작업도 진행했어요.
*   **단계별 코드 품질 개선**: Docstring 추가, Type Hinting 적용, Black 포맷팅 등 3단계에 걸쳐 백엔드 코드 품질을 개선했습니다. (`refactor: 코드 품질 개선 3단계 - Docstring 추가`, `refactor: 코드 품질 개선 2단계 - Type Hinting 추가`)
*   **아키텍처 개선**: `follow_service`를 Facade 패턴으로 리팩토링하여 999줄이던 코드를 208줄로 줄이는 등 서비스 레이어를 함수형 프로그래밍 패턴으로 개선했습니다. (`refactor: Convert follow_service to Facade pattern (999 → 208 lines)`, `refactor: 백엔드 서비스 레이어 함수형 프로그래밍 패턴 적용`)
*   **API 경로 체계 개선**: `/api/v1` prefix를 `/api`로 변경하고, trailing slash 문제를 해결하는 등 API 경로 체계를 대대적으로 정리했습니다. (`fix: API prefix를 /api/v1에서 /api로 변경`, `fix: Remove trailing slashes from all 1-depth API endpoints`)

### ☁️ GCP 인프라 및 배포 최적화
프로젝트가 프로덕션 환경에서 안정적으로 동작하도록 GCP 인프라와 배포 파이프라인을 최적화했습니다.
*   **Cloud Run 배포 안정화**: Cloud Run 배포 실패 문제를 해결하기 위해 PORT 환경변수 충돌, startup timeout, 캐시 연결 타임아웃, YAML 린트 오류 등 수많은 `fix` 커밋들을 거쳐 배포 안정성을 확보했습니다. 정말 많은 시행착오가 있었어요. 😅 (`fix: Cloud Run 배포 실패 문제 완전 해결`, `fix: Cloud Run startup timeout 해결`, `fix: Cloud Run 시작 문제 해결`)
*   **CI/CD 개선**: GitHub Actions에서 Docker 직접 빌드, Cloud Build, Artifact Registry 등을 활용하여 배포 워크플로우를 개선하고 CI/CD 파이프라인을 더욱 견고하게 만들었습니다. (`feat: Cloud Build를 사용하도록 배포 워크플로우 개선`, `fix(ci): Use Artifact Registry instead of GCR`)
*   **환경 설정 및 로드 밸런서**: 프로덕션 CORS 오리진 추가, API_BASE_URL 환경변수 필수화, 로드 밸런서 경로 기반 라우팅 설정 등 배포 환경 설정을 세밀하게 조정했습니다. (`fix: Add production domains to CORS origins`, `fix: Add /api to API_BASE_URL in deployment`, `feat: 경로 기반 라우팅 설정 완료`)

### 📚 문서화
방대한 개발 내용을 정리하고 공유하기 위한 문서 작업도 꾸준히 진행했습니다.
*   **통합 문서 시스템**: 프론트엔드 및 백엔드 개발 가이드, API 명세, 데이터베이스 설계, 소스코드 품질 분석 리포트 등 Fallingo의 모든 기술 문서를 통합하고 최신화했습니다. (`docs: 완전한 REST API 문서화 완료`, `docs: Fallingo 데이터베이스 설계 및 백엔드 문서 100% 완성`, `docs: 소스코드 품질 분석 리포트 추가`)

---

## 💡 작업 하이라이트

이번 기간의 가장 의미 있는 작업들을 꼽자면 다음과 같습니다.

1.  **AI 기반 백엔드 성능 최적화와 안정화**:
    *   Redis 캐싱, BackgroundTasks 도입으로 API 응답 속도를 76%나 개선한 것은 정말 놀라운 성과였습니다. FastAPI와 GCP Memorystore Redis를 연동하는 과정에서 여러 시행착오가 있었지만, 결국 사용자 경험을 크게 향상시킬 수 있는 핵심 인프라를 구축한 셈이에요. 이와 함께 API 엔드포인트가 169개 모두 로컬 테스트를 통과했을 때, 드디어 백엔드의 뼈대가 튼튼하게 완성되었다는 안도감이 들었습니다. 🏗️
    *   **반복된 `fix` 커밋의 이유**: 특히 Cloud Run 배포와 API 엔드포인트 관련 `fix` 커밋이 많았는데요. 이는 Cloud Run 환경의 특성(콜드 스타트, 환경변수 관리, 네트워크 설정 등)과 FastAPI의 미들웨어, 라우팅 설정이 복합적으로 얽혀 있어 발생하는 문제들이 많았기 때문입니다. 로컬에서는 잘되던 것이 배포 환경에서 미묘하게 다르게 동작하는 경우들이 많았고, 이를 하나하나 찾아내고 해결하는 과정이 정말 인내심을 요구했어요. `NoneType` 오류 같은 사소해 보이지만 치명적인 버그들도 끈질기게 잡아야 했습니다. 결국 수많은 `fix`를 통해 안정적인 프로덕션 환경을 만들 수 있었습니다.

2.  **Flutter 기반 프론트엔드 핵심 기능 및 AI 연동**:
    *   Flutter로 Fallingo의 주요 화면(피드, 프로필, 검색, 댓글, AI 추천 등)을 구현하고, 백엔드 API와 성공적으로 연동한 것이 큰 하이라이트입니다. 특히 Google Maps, Document AI OCR, 소셜 로그인 등 다양한 외부 서비스와 통합하면서 프론트엔드의 완성도를 크게 높일 수 있었습니다. 사용자가 직접 느낄 수 있는 기능들이 하나둘씩 눈앞에 구현될 때마다 짜릿함을 느꼈어요! 📱✨
    *   그리고 이 모든 과정을 AI 기반 개발 방식으로 진행하면서, 기존에 제가 가진 프론트엔드 경험에 FastAPI, Flutter, PostgreSQL이라는 새로운 기술 스택을 빠르게 흡수하고 적용할 수 있었다는 점도 개인적으로는 큰 배움이었습니다. AI가 단순한 코딩 도구를 넘어, 전체 개발 프로세스의 생산성을 극대화하는 파트너가 되어주고 있어요.

---

## 📊 개발 현황

현재 Fallingo 프로젝트는 **백엔드 핵심 기능은 95% 이상 완료**되었고, 성능 최적화와 보안 시스템도 안정화 단계에 접어들었습니다. **프론트엔드 UI/UX 및 주요 기능 또한 80% 이상 구현**되어, 대부분의 핵심 사용자 흐름이 완성된 상태입니다. 남은 부분은 주로 세부적인 UI 폴리싱, 엣지 케이스 처리, 그리고 베타 런칭을 위한 최종 테스트 및 버그 수정 단계라고 볼 수 있습니다.

2025년 12월 베타 런칭 목표를 향해 순조롭게 나아가고 있습니다! 이처럼 개발 일지를 통해 진행 상황을 공유할 수 있게 되어 정말 기쁩니다. 앞으로도 많은 관심과 응원 부탁드려요! 다음 일지에서 또 새로운 소식으로 찾아뵙겠습니다. 감사합니다! 😊